{"map":"{\"version\":3,\"sources\":[\"187.06d98ddbf57bd3569252.js\"],\"names\":[\"window\",\"push\",\"./node_modules/@magento/peregrine/lib/talons/AuthModal/authModal.gql.js\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"d\",\"SIGN_OUT\",\"signOutMutation\",\"./node_modules/@magento/peregrine/lib/talons/AuthModal/useAuthModal.js\",\"useAuthModal\",\"react__WEBPACK_IMPORTED_MODULE_0__\",\"react_router_dom__WEBPACK_IMPORTED_MODULE_1__\",\"_apollo_client__WEBPACK_IMPORTED_MODULE_2__\",\"_util_shallowMerge__WEBPACK_IMPORTED_MODULE_3__\",\"_context_user__WEBPACK_IMPORTED_MODULE_4__\",\"_authModal_gql__WEBPACK_IMPORTED_MODULE_5__\",\"_s\",\"$RefreshSig$\",\"UNAUTHED_ONLY\",\"props\",\"closeDrawer\",\"showCreateAccount\",\"showForgotPassword\",\"showMainMenu\",\"showMyAccount\",\"showSignIn\",\"view\",\"operations\",\"Object\",\"isSigningOut\",\"setIsSigningOut\",\"username\",\"setUsername\",\"currentUser\",\"isSignedIn\",\"signOut\",\"revokeToken\",\"history\",\"email\",\"includes\",\"handleClose\",\"handleCancel\",\"handleCreateAccount\",\"handleSignOut\",\"async\",\"go\",\"./node_modules/@magento/peregrine/lib/talons/MyAccount/useMyAccount.js\",\"useMyAccount\",\"_magento_peregrine_lib_context_app__WEBPACK_IMPORTED_MODULE_2__\",\"onSignOut\",\"location\",\"shouldCloseDrawer\",\"current\",\"key\"],\"mappings\":\"CAACA,OAAqB,aAAIA,OAAqB,cAAK,IAAIC,KAAK,CAAC,CAAC,KAAK,CAE9DC;;;;0CAKA,SAAUC,EAAQC,EAAqBC,GAE7C,aACAA,EAAoBC,EAAEF,GACSC,EAAoBE,EAAEH,EAAqB,YAAY,WAAa,OAAOI,KAG1G,MAAMA,EAFiEH,uBAA0C,0CAE/C,GAAC;;;;;;EAOtCD,EAA6B,QAAI,CAC5DK,gBAAiBD,IAKbE;;;;qCAKA,SAAUP,EAAQC,EAAqBC,GAE7C,aACAA,EAAoBC,EAAEF,GACSC,EAAoBE,EAAEH,EAAqB,gBAAgB,WAAa,OAAOO,KACzF,IAAIC,EAAqCP,cAAiC,iCAEtEQ,EAAgDR,yBAA4C,2DAC5FS,EAA8CT,uBAA0C,0CACxFU,EAAkDV,gCAAmD,8DACrGW,EAA6CX,2BAA8C,yDAC3FY,EAA8CZ,wBAA2C,2EAC9Ga,EAAKC,eAQT,MAAMC,EAAgB,CAAC,iBAAkB,kBAAmB,WA0BtDT,EAAeU,IACnBH,IAEA,MAAMI,YACJA,EAAWC,kBACXA,EAAiBC,mBACjBA,EAAkBC,aAClBA,EAAYC,cACZA,EAAaC,WACbA,EAAUC,KACVA,GACEP,EACEQ,EAAaC,OAAOf,EAAyD,QAAhEe,CAAmEb,EAAqD,QAAGI,EAAMQ,aAC9IpB,gBACJA,GACEoB,GACGE,EAAcC,GAAmBF,OAAOlB,EAA6C,SAApDkB,EAAuD,IACxFG,EAAUC,GAAeJ,OAAOlB,EAA6C,SAApDkB,CAAuD,MAChFK,YACLA,EAAWC,WACXA,IACCC,QACDA,IACGP,OAAOd,EAA2D,eAAlEc,IACEQ,GAAeR,OAAOhB,EAAyD,YAAhEgB,CAAmErB,GACnF8B,EAAUT,OAAOjB,EAA0D,WAAjEiB,GAGhBA,OAAOlB,EAA8C,UAArDkB,CAAwD,KAClDK,GAAeA,EAAYK,OAASpB,EAAcqB,SAASb,IAC7DF,KAED,CAACS,EAAaT,EAAeE,IAGhCE,OAAOlB,EAA8C,UAArDkB,CAAwD,KACjDM,GAAuB,eAATR,GAA0BG,GAC3CN,KAED,CAACW,EAAYL,EAAcN,EAAcG,IAC5C,MAAMc,EAAcZ,OAAOlB,EAAgD,YAAvDkB,CAA0D,KAC5EL,IACAH,KACC,CAACA,EAAaG,IAkBjB,MAAO,CACLkB,aAlBmBb,OAAOlB,EAAgD,YAAvDkB,CAA0D,KAC7EH,KACC,CAACA,IAiBFe,YAAAA,EACAE,oBAjB0Bd,OAAOlB,EAAgD,YAAvDkB,CAA0D,KACpFJ,KACC,CAACA,IAgBFmB,cAfoBf,OAAOlB,EAAgD,YAAvDkB,CAA0DgB,UAC9Ed,GAAgB,SAEVK,EAAQ,CACZC,YAAAA,IAKFC,EAAQQ,GAAG,IACV,CAACR,EAASD,EAAaD,IAMxBH,YAAAA,EACAX,kBAAAA,EACAC,mBAAAA,EACAE,cAAAA,EACAO,SAAAA,IAIJf,EAAGP,EAAc,gCAAgC,GAAO,WACtD,MAAO,CAACK,EAA2D,eAAGF,EAAyD,YAAGD,EAA0D,gBAKxLmC;;;;qCAKA,SAAU7C,EAAQC,EAAqBC,GAE7C,aACAA,EAAoBC,EAAEF,GACSC,EAAoBE,EAAEH,EAAqB,gBAAgB,WAAa,OAAO6C,KACzF,IAAIrC,EAAqCP,cAAiC,iCAEtEQ,EAAgDR,yBAA4C,2DAC5F6C,EAAkE7C,2CAA8D,wDACrJa,EAAKC,eAeT,MAAM8B,EAAe5B,IACnBH,IAEA,MAAMiC,UACJA,GACE9B,GACG,EAAEC,YACPA,IACGQ,OAAOoB,EAA+E,cAAtFpB,GACCsB,EAAWtB,OAAOjB,EAA2D,YAAlEiB,GACXuB,EAAoBvB,OAAOlB,EAA2C,OAAlDkB,EAAqD,GACzEe,EAAgBf,OAAOlB,EAAgD,YAAvDkB,CAA0D,KAC9ER,IACA6B,KACC,CAAC7B,EAAa6B,IAYjB,OAVArB,OAAOlB,EAA8C,UAArDkB,CAAwD,KAIlDuB,EAAkBC,QACpBhC,IAEA+B,EAAkBC,SAAU,GAE7B,CAAChC,EAAa8B,EAASG,MACnB,CACLV,cAAAA,IAIJ3B,EAAG+B,EAAc,gCAAgC,GAAO,WACtD,MAAO,CAACC,EAA+E,cAAGrC,EAA2D\"}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[187],{\"./node_modules/@magento/peregrine/lib/talons/AuthModal/authModal.gql.js\":\n/*!*******************************************************************************!*\\\n  !*** ./node_modules/@magento/peregrine/lib/talons/AuthModal/authModal.gql.js ***!\n  \\*******************************************************************************/\n/*! exports provided: SIGN_OUT, default */function(e,t,o){\"use strict\";o.r(t),o.d(t,\"SIGN_OUT\",(function(){return n}));const n=o(/*! @apollo/client */\"./node_modules/@apollo/client/index.js\").gql`\n    mutation SignOutFromModal {\n        revokeCustomerToken {\n            result\n        }\n    }\n`;t.default={signOutMutation:n}},\"./node_modules/@magento/peregrine/lib/talons/AuthModal/useAuthModal.js\":\n/*!******************************************************************************!*\\\n  !*** ./node_modules/@magento/peregrine/lib/talons/AuthModal/useAuthModal.js ***!\n  \\******************************************************************************/\n/*! exports provided: useAuthModal */function(e,t,o){\"use strict\";o.r(t),o.d(t,\"useAuthModal\",(function(){return d}));var n=o(/*! react */\"./node_modules/react/index.js\"),s=o(/*! react-router-dom */\"./node_modules/react-router-dom/esm/react-router-dom.js\"),u=o(/*! @apollo/client */\"./node_modules/@apollo/client/index.js\"),r=o(/*! ../../util/shallowMerge */\"./node_modules/@magento/peregrine/lib/util/shallowMerge.js\"),c=o(/*! ../../context/user */\"./node_modules/@magento/peregrine/lib/context/user.js\"),a=o(/*! ./authModal.gql */\"./node_modules/@magento/peregrine/lib/talons/AuthModal/authModal.gql.js\"),l=$RefreshSig$();const i=[\"CREATE_ACCOUNT\",\"FORGOT_PASSWORD\",\"SIGN_IN\"],d=e=>{l();const{closeDrawer:t,showCreateAccount:o,showForgotPassword:d,showMainMenu:m,showMyAccount:b,showSignIn:g,view:j}=e,O=Object(r.default)(a.default,e.operations),{signOutMutation:h}=O,[f,p]=Object(n.useState)(!1),[w,A]=Object(n.useState)(\"\"),[{currentUser:C,isSignedIn:M},{signOut:_}]=Object(c.useUserContext)(),[S]=Object(u.useMutation)(h),k=Object(s.useHistory)();Object(n.useEffect)(()=>{C&&C.email&&i.includes(j)&&b()},[C,b,j]),Object(n.useEffect)(()=>{M||\"MY_ACCOUNT\"!==j||f||m()},[M,f,m,j]);const x=Object(n.useCallback)(()=>{m(),t()},[t,m]);return{handleCancel:Object(n.useCallback)(()=>{g()},[g]),handleClose:x,handleCreateAccount:Object(n.useCallback)(()=>{b()},[b]),handleSignOut:Object(n.useCallback)(async()=>{p(!0),await _({revokeToken:S}),k.go(0)},[k,S,_]),setUsername:A,showCreateAccount:o,showForgotPassword:d,showMyAccount:b,username:w}};l(d,\"mZFxRyUAysmuKPI7Pbe/Nf0uh7A=\",!1,(function(){return[c.useUserContext,u.useMutation,s.useHistory]}))},\"./node_modules/@magento/peregrine/lib/talons/MyAccount/useMyAccount.js\":\n/*!******************************************************************************!*\\\n  !*** ./node_modules/@magento/peregrine/lib/talons/MyAccount/useMyAccount.js ***!\n  \\******************************************************************************/\n/*! exports provided: useMyAccount */function(e,t,o){\"use strict\";o.r(t),o.d(t,\"useMyAccount\",(function(){return c}));var n=o(/*! react */\"./node_modules/react/index.js\"),s=o(/*! react-router-dom */\"./node_modules/react-router-dom/esm/react-router-dom.js\"),u=o(/*! @magento/peregrine/lib/context/app */\"./node_modules/@magento/peregrine/lib/context/app.js\"),r=$RefreshSig$();const c=e=>{r();const{onSignOut:t}=e,[,{closeDrawer:o}]=Object(u.useAppContext)(),c=Object(s.useLocation)(),a=Object(n.useRef)(!1),l=Object(n.useCallback)(()=>{o(),t()},[o,t]);return Object(n.useEffect)(()=>{a.current?o():a.current=!0},[o,c.key]),{handleSignOut:l}};r(c,\"fSBtWsD1nedCzPzK/hspaiRhNZk=\",!1,(function(){return[u.useAppContext,s.useLocation]}))}}]);","extractedComments":[]}