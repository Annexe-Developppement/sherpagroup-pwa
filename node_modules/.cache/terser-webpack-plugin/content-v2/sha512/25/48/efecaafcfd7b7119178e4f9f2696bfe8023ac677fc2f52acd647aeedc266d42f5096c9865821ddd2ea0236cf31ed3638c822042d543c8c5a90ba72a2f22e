{"map":"{\"version\":3,\"sources\":[\"126.16330a44285c2535d5c3.js\"],\"names\":[\"window\",\"push\",\"./node_modules/@magento/peregrine/lib/talons/CartPage/PriceAdjustments/useCouponCode.js\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"d\",\"useCouponCode\",\"react__WEBPACK_IMPORTED_MODULE_0__\",\"_apollo_client__WEBPACK_IMPORTED_MODULE_1__\",\"_magento_peregrine_lib_context_cart__WEBPACK_IMPORTED_MODULE_2__\",\"_s\",\"$RefreshSig$\",\"props\",\"setIsCartUpdating\",\"mutations\",\"applyCouponMutation\",\"removeCouponMutation\",\"queries\",\"getAppliedCouponsQuery\",\"cartId\",\"Object\",\"data\",\"error\",\"fetchError\",\"fetchPolicy\",\"nextFetchPolicy\",\"skip\",\"variables\",\"applyCoupon\",\"called\",\"applyCouponCalled\",\"applyError\",\"loading\",\"applyingCoupon\",\"removeCoupon\",\"removeCouponCalled\",\"removeCouponError\",\"removingCoupon\",\"handleApplyCoupon\",\"async\",\"couponCode\",\"e\",\"handleRemoveCoupon\",\"errors\",\"Map\"],\"mappings\":\"CAACA,OAAqB,aAAIA,OAAqB,cAAK,IAAIC,KAAK,CAAC,CAAC,KAAK,CAE9DC;;;;sCAKA,SAAUC,EAAQC,EAAqBC,GAE7C,aACAA,EAAoBC,EAAEF,GACSC,EAAoBE,EAAEH,EAAqB,iBAAiB,WAAa,OAAOI,KAC1F,IAAIC,EAAqCJ,cAAiC,iCAEtEK,EAA8CL,uBAA0C,0CACxFM,EAAmEN,4CAA+D,yDACvJO,EAAKC,eA2BT,MAAML,EAAgBM,IACpBF,IAEA,MAAMG,kBACJA,EACAC,WAAWC,oBACTA,EAAmBC,qBACnBA,GAEFC,SAASC,uBACPA,IAEAN,IACGO,OACLA,IACGC,OAAOX,EAAiF,eAAxFW,IACCC,KACJA,EACAC,MAAOC,GACLH,OAAOZ,EAAsD,SAA7DY,CAAgEF,EAAwB,CAC1FM,YAAa,oBACbC,gBAAiB,cACjBC,MAAOP,EACPQ,UAAW,CACTR,OAAAA,MAGGS,GACLC,OAAQC,EACRR,MAAOS,EACPC,QAASC,IACNb,OAAOZ,EAAyD,YAAhEY,CAAmEL,IACjEmB,GACLL,OAAQM,EACRb,MAAOc,EACPJ,QAASK,IACNjB,OAAOZ,EAAyD,YAAhEY,CAAmEJ,GAClEsB,EAAoBlB,OAAOb,EAAgD,YAAvDa,CAA0DmB,OAClFC,WAAAA,MAEA,GAAKA,EAEL,UACQZ,EAAY,CAChBD,UAAW,CACTR,OAAAA,EACAqB,WAAAA,KAGJ,MAAOC,MAER,CAACb,EAAaT,IACXuB,EAAqBtB,OAAOb,EAAgD,YAAvDa,CAA0DmB,MAAAA,IACnF,UACQL,EAAa,CACjBP,UAAW,CACTR,OAAAA,EACAqB,WAAAA,KAGJ,MAAOC,MAER,CAACtB,EAAQe,IACZd,OAAOb,EAA8C,UAArDa,CAAwD,MAClDU,GAAqBK,IAEvBtB,EAAkBoB,GAAkBI,IAErC,CAACP,EAAmBG,EAAgBE,EAAoBE,EAAgBxB,IAE3E,MAAM8B,EAASvB,OAAOb,EAA4C,QAAnDa,CAAsD,IAAM,IAAIwB,IAAI,CAAC,CAAC,yBAA0BrB,GAAa,CAAC,sBAAuBQ,GAAa,CAAC,uBAAwBK,KAAsB,CAACL,EAAYR,EAAYa,IACzO,MAAO,CACLH,eAAAA,EACAZ,KAAAA,EACAsB,OAAAA,EACAL,kBAAAA,EACAI,mBAAAA,EACAL,eAAAA,IA6CJ3B,EAAGJ,EAAe,gCAAgC,GAAO,WACvD,MAAO,CAACG,EAAiF,eAAGD,EAAsD,SAAGA,EAAyD,YAAGA,EAAyD\"}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{\"./node_modules/@magento/peregrine/lib/talons/CartPage/PriceAdjustments/useCouponCode.js\":\n/*!***********************************************************************************************!*\\\n  !*** ./node_modules/@magento/peregrine/lib/talons/CartPage/PriceAdjustments/useCouponCode.js ***!\n  \\***********************************************************************************************/\n/*! exports provided: useCouponCode */function(e,o,t){\"use strict\";t.r(o),t.d(o,\"useCouponCode\",(function(){return c}));var n=t(/*! react */\"./node_modules/react/index.js\"),a=t(/*! @apollo/client */\"./node_modules/@apollo/client/index.js\"),u=t(/*! @magento/peregrine/lib/context/cart */\"./node_modules/@magento/peregrine/lib/context/cart.js\"),r=$RefreshSig$();const c=e=>{r();const{setIsCartUpdating:o,mutations:{applyCouponMutation:t,removeCouponMutation:c},queries:{getAppliedCouponsQuery:s}}=e,[{cartId:i}]=Object(u.useCartContext)(),{data:p,error:d}=Object(a.useQuery)(s,{fetchPolicy:\"cache-and-network\",nextFetchPolicy:\"cache-first\",skip:!i,variables:{cartId:i}}),[l,{called:C,error:b,loading:j}]=Object(a.useMutation)(t),[y,{called:g,error:m,loading:h}]=Object(a.useMutation)(c),w=Object(n.useCallback)(async({couponCode:e})=>{if(e)try{await l({variables:{cartId:i,couponCode:e}})}catch(e){}},[l,i]),M=Object(n.useCallback)(async e=>{try{await y({variables:{cartId:i,couponCode:e}})}catch(e){}},[i,y]);Object(n.useEffect)(()=>{(C||g)&&o(j||h)},[C,j,g,h,o]);const f=Object(n.useMemo)(()=>new Map([[\"getAppliedCouponsQuery\",d],[\"applyCouponMutation\",b],[\"removeCouponMutation\",m]]),[b,d,m]);return{applyingCoupon:j,data:p,errors:f,handleApplyCoupon:w,handleRemoveCoupon:M,removingCoupon:h}};r(c,\"W6ptOWzk99J/HQjaDUDR/FWirpk=\",!1,(function(){return[u.useCartContext,a.useQuery,a.useMutation,a.useMutation]}))}}]);","extractedComments":[]}