{"map":"{\"version\":3,\"sources\":[\"116.f163cbdb836dea2fa615.js\"],\"names\":[\"window\",\"push\",\"./src/components/Header/storeSwitcher.css\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__\",\"_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default\",\"n\",\"_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_0_1_storeSwitcher_css__WEBPACK_IMPORTED_MODULE_1__\",\"_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_0_1_storeSwitcher_css__WEBPACK_IMPORTED_MODULE_1___default\",\"options\",\"injectType\",\"insert\",\"singleton\",\"a\",\"locals\",\"./src/components/Header/storeSwitcher.gql.js\",\"d\",\"GET_STORE_CONFIG_DATA\",\"GET_AVAILABLE_STORES_DATA\",\"_apollo_client__WEBPACK_IMPORTED_MODULE_0__\",\"queries\",\"getStoreConfigData\",\"getAvailableStoresData\",\"./src/components/Header/storeSwitcher.js\",\"react__WEBPACK_IMPORTED_MODULE_0__\",\"react__WEBPACK_IMPORTED_MODULE_0___default\",\"prop_types__WEBPACK_IMPORTED_MODULE_1__\",\"react_feather__WEBPACK_IMPORTED_MODULE_2__\",\"_peregrine_lib_talons_Header_useStoreSwitcher__WEBPACK_IMPORTED_MODULE_3__\",\"_classify__WEBPACK_IMPORTED_MODULE_4__\",\"_storeSwitcher_css__WEBPACK_IMPORTED_MODULE_5__\",\"_switcherItem__WEBPACK_IMPORTED_MODULE_6__\",\"_storeSwitcher_gql__WEBPACK_IMPORTED_MODULE_7__\",\"_Icon__WEBPACK_IMPORTED_MODULE_8__\",\"_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__\",\"_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_10__\",\"_magento_peregrine__WEBPACK_IMPORTED_MODULE_11__\",\"_s\",\"$RefreshSig$\",\"_defineProperty\",\"obj\",\"key\",\"value\",\"Object\",\"defineProperty\",\"enumerable\",\"configurable\",\"writable\",\"StoreSwitcher\",\"props\",\"talonProps\",\"target\",\"i\",\"arguments\",\"length\",\"source\",\"ownKeys\",\"keys\",\"getOwnPropertySymbols\",\"concat\",\"filter\",\"sym\",\"getOwnPropertyDescriptor\",\"forEach\",\"_objectSpread\",\"handleSwitchStore\",\"allowGuestCheckout\",\"currentStoreName\",\"availableStores\",\"storeMenuRef\",\"storeMenuTriggerRef\",\"storeMenuIsOpen\",\"handleTriggerClick\",\"classes\",\"menuClassName\",\"menu_open\",\"menu\",\"BrowserPersistence\",\"storage\",\"setItem\",\"size\",\"stores\",\"store\",\"code\",\"createElement\",\"className\",\"menuItem\",\"active\",\"isCurrent\",\"onClick\",\"option\",\"storeName\",\"root\",\"aria-label\",\"ref\",\"trigger\",\"src\",\"label\",\"select_img\",\"icon\",\"overlay\",\"_c\",\"propTypes\",\"$RefreshReg$\",\"./src/peregrine/lib/talons/Header/useStoreSwitcher.js\",\"useStoreSwitcher\",\"react__WEBPACK_IMPORTED_MODULE_1__\",\"react_router_dom__WEBPACK_IMPORTED_MODULE_2__\",\"_magento_peregrine_lib_hooks_useDropdown__WEBPACK_IMPORTED_MODULE_3__\",\"_magento_peregrine_lib_util__WEBPACK_IMPORTED_MODULE_4__\",\"history\",\"elementRef\",\"expanded\",\"setExpanded\",\"setStoreMenuIsOpen\",\"triggerRef\",\"data\",\"storeConfigData\",\"fetchPolicy\",\"nextFetchPolicy\",\"availableStoresData\",\"storeConfig\",\"store_name\",\"allow_guest_checkout\",\"config\",\"configCode\",\"reduce\",\"map\",\"default_display_currency_code\",\"currency\",\"locale\",\"set\",\"Map\",\"mapAvailableOptions\",\"storeCode\",\"has\",\"removeItem\",\"get\",\"go\",\"isOpen\"],\"mappings\":\"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\"}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{\"./src/components/Header/storeSwitcher.css\":\n/*!*************************************************!*\\\n  !*** ./src/components/Header/storeSwitcher.css ***!\n  \\*************************************************/\n/*! exports provided: default */function(e,t,r){\"use strict\";r.r(t);var s=r(/*! ../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */\"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\"),o=r.n(s),n=r(/*! !../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!./storeSwitcher.css */\"./node_modules/css-loader/dist/cjs.js?!./src/components/Header/storeSwitcher.css\"),a=r.n(n),c={injectType:\"styleTag\",insert:\"head\",singleton:!1};o()(a.a,c);t.default=a.a.locals||{}},\"./src/components/Header/storeSwitcher.gql.js\":\n/*!****************************************************!*\\\n  !*** ./src/components/Header/storeSwitcher.gql.js ***!\n  \\****************************************************/\n/*! exports provided: GET_STORE_CONFIG_DATA, GET_AVAILABLE_STORES_DATA, default */function(e,t,r){\"use strict\";r.r(t),r.d(t,\"GET_STORE_CONFIG_DATA\",(function(){return o})),r.d(t,\"GET_AVAILABLE_STORES_DATA\",(function(){return n}));var s=r(/*! @apollo/client */\"./node_modules/@apollo/client/index.js\");const o=s.gql`\n    query getStoreConfigData {\n        storeConfig {\n            id\n            code\n            store_name\n            allow_guest_checkout\n        }\n    }\n`,n=s.gql`\n    query getAvailableStoresData {\n        availableStores {\n            code\n            default_display_currency_code\n            id\n            locale\n            store_name\n        }\n    }\n`;t.default={queries:{getStoreConfigData:o,getAvailableStoresData:n}}},\"./src/components/Header/storeSwitcher.js\":\n/*!************************************************!*\\\n  !*** ./src/components/Header/storeSwitcher.js ***!\n  \\************************************************/\n/*! exports provided: default */function(e,t,r){\"use strict\";r.r(t);var s=r(/*! react */\"./node_modules/react/index.js\"),o=r.n(s),n=r(/*! prop-types */\"./node_modules/prop-types/index.js\"),a=r(/*! react-feather */\"./node_modules/react-feather/dist/index.js\"),c=r(/*! ../../peregrine/lib/talons/Header/useStoreSwitcher */\"./src/peregrine/lib/talons/Header/useStoreSwitcher.js\"),l=r(/*! ../../classify */\"./src/classify.js\"),i=r(/*! ./storeSwitcher.css */\"./src/components/Header/storeSwitcher.css\"),u=r(/*! ./switcherItem */\"./src/components/Header/switcherItem.js\"),d=r(/*! ./storeSwitcher.gql */\"./src/components/Header/storeSwitcher.gql.js\"),m=r(/*! ../Icon */\"./src/components/Icon/index.js\"),g=r(/*! @fortawesome/react-fontawesome */\"./node_modules/@fortawesome/react-fontawesome/index.es.js\"),f=r(/*! @fortawesome/free-solid-svg-icons */\"./node_modules/@fortawesome/free-solid-svg-icons/index.es.js\"),p=r(/*! @magento/peregrine */\"./node_modules/@magento/peregrine/lib/index.js\"),j=$RefreshSig$();function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h=e=>{j();const t=Object(c.useStoreSwitcher)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},s=Object.keys(r);\"function\"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){w(e,t,r[t])}))}return e}({},d.default)),{handleSwitchStore:r,allowGuestCheckout:s,currentStoreName:n,availableStores:h,storeMenuRef:S,storeMenuTriggerRef:b,storeMenuIsOpen:_,handleTriggerClick:y}=t,v=Object(l.mergeClasses)(i.default,e.classes),O=_?v.menu_open:v.menu,{BrowserPersistence:C}=p.Util,E=new C;if(s&&null!=s&&E.setItem(\"allowGuestCheckout\",s),!h||h.size<=1)return null;const k=[];return h.forEach((e,t)=>{k.push(o.a.createElement(\"li\",{key:t,className:v.menuItem},o.a.createElement(u.default,{active:e.isCurrent,onClick:r,option:t},e.storeName)))}),o.a.createElement(\"div\",{className:v.root},o.a.createElement(\"button\",{\"aria-label\":\"store-language-switch\",onClick:y,ref:b},o.a.createElement(\"span\",{className:v.trigger},o.a.createElement(m.default,{src:a.MapPin}),o.a.createElement(\"span\",{className:v.label},n),o.a.createElement(\"span\",{className:v.select_img},o.a.createElement(g.FontAwesomeIcon,{icon:f.faAngleDown})))),o.a.createElement(\"div\",{ref:S,className:O},o.a.createElement(\"ul\",null,k)),o.a.createElement(\"div\",{className:v.overlay}))};var S;j(h,\"VF3SN4RSqj6hPjQVQAc0Y3rpZ/c=\",!1,(function(){return[c.useStoreSwitcher]})),S=h,t.default=h,h.propTypes={classes:Object(n.shape)({root:n.string,trigger:n.string,menu:n.string,menu_open:n.string,menuItem:n.string})},$RefreshReg$(S,\"StoreSwitcher\")},\"./src/peregrine/lib/talons/Header/useStoreSwitcher.js\":\n/*!*************************************************************!*\\\n  !*** ./src/peregrine/lib/talons/Header/useStoreSwitcher.js ***!\n  \\*************************************************************/\n/*! exports provided: useStoreSwitcher */function(e,t,r){\"use strict\";r.r(t),r.d(t,\"useStoreSwitcher\",(function(){return u}));var s=r(/*! @apollo/client */\"./node_modules/@apollo/client/index.js\"),o=r(/*! react */\"./node_modules/react/index.js\"),n=r(/*! react-router-dom */\"./node_modules/react-router-dom/esm/react-router-dom.js\"),a=r(/*! @magento/peregrine/lib/hooks/useDropdown */\"./node_modules/@magento/peregrine/lib/hooks/useDropdown.js\"),c=r(/*! @magento/peregrine/lib/util */\"./node_modules/@magento/peregrine/lib/util/index.js\"),l=$RefreshSig$();const i=new c.BrowserPersistence,u=e=>{l();const{queries:t}=e,{getStoreConfigData:r,getAvailableStoresData:c}=t,u=Object(n.useHistory)(),{elementRef:d,expanded:m,setExpanded:g,triggerRef:f}=Object(a.useDropdown)(),{data:p}=Object(s.useQuery)(r,{fetchPolicy:\"cache-and-network\",nextFetchPolicy:\"cache-first\"}),{data:j}=Object(s.useQuery)(c,{fetchPolicy:\"cache-and-network\",nextFetchPolicy:\"cache-first\"}),w=Object(o.useMemo)(()=>{if(p)return p.storeConfig.store_name},[p]),h=Object(o.useMemo)(()=>{if(p)return p.storeConfig.allow_guest_checkout},[p]),S=Object(o.useMemo)(()=>p&&j&&((e,t)=>{const{code:r}=e;return t.reduce((e,t)=>{const{code:s,default_display_currency_code:o,locale:n,store_name:a}=t,c={currency:o,isCurrent:s===r,locale:n,storeName:a};return e.set(s,c)},new Map)})(p.storeConfig,j.availableStores),[p,j]),b=Object(o.useCallback)(e=>{S.has(e)&&(i.removeItem(\"nav_details\"),i.setItem(\"store_view_code\",e),i.setItem(\"store_view_currency\",S.get(e).currency),u.go(0))},[u,S]),_=Object(o.useCallback)(()=>{g(e=>!e)},[g]);return{currentStoreName:w,allowGuestCheckout:h,availableStores:S,storeMenuRef:d,storeMenuTriggerRef:f,storeMenuIsOpen:m,handleTriggerClick:_,handleSwitchStore:b}};l(u,\"DSajH0jo8tQZjPZ4ovQ6+nXilqI=\",!1,(function(){return[n.useHistory,a.useDropdown,s.useQuery,s.useQuery]}))}}]);","extractedComments":[]}