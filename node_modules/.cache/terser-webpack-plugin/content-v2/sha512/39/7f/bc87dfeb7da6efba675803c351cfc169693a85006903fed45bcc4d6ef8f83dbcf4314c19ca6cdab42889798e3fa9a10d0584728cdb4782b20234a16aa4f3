{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{737:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return l})),n.d(e,\"b\",(function(){return p}));var a=n(4),r=n.n(a),c=n(9),u=n.n(c),i=n(10),o=n.n(i),s=n(0),f=n(17),b=n(83),C=n(170),d=n(172),l=function(t){var e=t.accountConfirmationMutation,n=t.createCartMutation,a=t.getCartDetailsQuery,c=t.customerQuery,i=Object(f.useMutation)(e),l=o()(i,2),p=l[0],m=l[1].data,k=Object(s.useState)(!1),v=o()(k,2),j=v[0],O=v[1],h=Object(C.b)(),w=o()(h,2)[1],x=w.createCart,y=w.getCartDetails,D=w.removeCart,M=Object(b.b)(),g=o()(M,2)[1],L=g.getUserDetails,S=g.setToken,A=Object(f.useMutation)(n),I=o()(A,1)[0],J=Object(d.a)(c),P=Object(d.a)(a);return{inProgress:j,handleAccountConfirm:Object(s.useCallback)(function(){var t=u()(r.a.mark((function t(e){var n,a,c,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,a=e.key,O(!0),t.next=4,p({variables:{id:n,key:a}});case 4:if(!(c=t.sent)||!c.data.accountConfirmation.success){t.next=17;break}return u=c&&c.data.accountConfirmation.success&&c.data.accountConfirmation.token,t.next=9,S(u);case 9:return t.next=11,L({fetchUserDetails:J});case 11:return t.next=13,D();case 13:return t.next=15,x({fetchCartId:I});case 15:return t.next=17,y({fetchCartId:I,fetchCartDetails:P});case 17:O(!1);case 18:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[p,S,L,J,D,x,I,y,P]),accountConfirmResponse:m}},p=function(t){var e=t.accountConfirmationLinkMutation,n=Object(f.useMutation)(e),a=o()(n,2),c=a[0],i=a[1].data,b=Object(s.useState)(!1),C=o()(b,2),d=C[0],l=C[1];return{inProgress:d,SendAccountConfirmLink:Object(s.useCallback)(function(){var t=u()(r.a.mark((function t(e){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.email,l(!0),t.next=4,c({variables:{email:n}});case 4:l(!1);case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[c,l]),confirmLinkData:i}}}}]);","extractedComments":[]}