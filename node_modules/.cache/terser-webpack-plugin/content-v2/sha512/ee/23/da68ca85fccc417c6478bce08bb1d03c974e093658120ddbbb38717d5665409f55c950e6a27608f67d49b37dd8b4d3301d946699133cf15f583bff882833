{"map":"{\"version\":3,\"sources\":[\"157.ee56207fdea51330e6bd.js\"],\"names\":[\"window\",\"push\",\"./node_modules/@magento/peregrine/lib/talons/CommunicationsPage/communicationsPage.gql.js\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"d\",\"SET_NEWSLETTER_SUBSCRIPTION\",\"GET_CUSTOMER_SUBSCRIPTION\",\"_apollo_client__WEBPACK_IMPORTED_MODULE_0__\",\"getCustomerSubscriptionQuery\",\"setNewsletterSubscriptionMutation\",\"./node_modules/@magento/peregrine/lib/talons/CommunicationsPage/useCommunicationsPage.js\",\"useCommunicationsPage\",\"react__WEBPACK_IMPORTED_MODULE_0__\",\"_apollo_client__WEBPACK_IMPORTED_MODULE_1__\",\"_util_shallowMerge__WEBPACK_IMPORTED_MODULE_2__\",\"_context_user__WEBPACK_IMPORTED_MODULE_3__\",\"_communicationsPage_gql__WEBPACK_IMPORTED_MODULE_4__\",\"_s\",\"$RefreshSig$\",\"props\",\"afterSubmit\",\"operations\",\"Object\",\"isSignedIn\",\"data\",\"subscriptionData\",\"error\",\"subscriptionDataError\",\"skip\",\"initialValues\",\"isSubscribed\",\"customer\",\"is_subscribed\",\"setNewsletterSubscription\",\"setNewsletterSubscriptionError\",\"loading\",\"isSubmitting\",\"formErrors\",\"handleSubmit\",\"async\",\"variables\",\"formValues\",\"isDisabled\",\"./node_modules/@magento/venia-ui/lib/components/CommunicationsPage/communicationsPage.css\",\"_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__\",\"_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default\",\"n\",\"_css_loader_dist_cjs_js_ref_6_oneOf_0_1_communicationsPage_css__WEBPACK_IMPORTED_MODULE_1__\",\"_css_loader_dist_cjs_js_ref_6_oneOf_0_1_communicationsPage_css__WEBPACK_IMPORTED_MODULE_1___default\",\"options\",\"injectType\",\"insert\",\"singleton\",\"a\",\"locals\",\"./node_modules/@magento/venia-ui/lib/components/CommunicationsPage/communicationsPage.js\",\"react__WEBPACK_IMPORTED_MODULE_0___default\",\"react_intl__WEBPACK_IMPORTED_MODULE_1__\",\"informed__WEBPACK_IMPORTED_MODULE_2__\",\"react_router_dom__WEBPACK_IMPORTED_MODULE_3__\",\"_magento_peregrine__WEBPACK_IMPORTED_MODULE_4__\",\"_magento_peregrine_lib_talons_CommunicationsPage_useCommunicationsPage__WEBPACK_IMPORTED_MODULE_5__\",\"_classify__WEBPACK_IMPORTED_MODULE_6__\",\"_Button__WEBPACK_IMPORTED_MODULE_7__\",\"_Checkbox__WEBPACK_IMPORTED_MODULE_8__\",\"_Field__WEBPACK_IMPORTED_MODULE_9__\",\"_FormError__WEBPACK_IMPORTED_MODULE_10__\",\"_Head__WEBPACK_IMPORTED_MODULE_11__\",\"_LoadingIndicator__WEBPACK_IMPORTED_MODULE_12__\",\"_communicationsPage_css__WEBPACK_IMPORTED_MODULE_13__\",\"CommunicationsPage\",\"formatMessage\",\"classes\",\"addToast\",\"type\",\"message\",\"id\",\"defaultMessage\",\"timeout\",\"talonProps\",\"createElement\",\"to\",\"title\",\"className\",\"root\",\"errors\",\"form\",\"onSubmit\",\"label\",\"field\",\"buttonsContainer\",\"disabled\",\"priority\",\"_c\",\"$RefreshReg$\",\"./node_modules/@magento/venia-ui/lib/components/CommunicationsPage/index.js\",\"_communicationsPage__WEBPACK_IMPORTED_MODULE_0__\",\"./node_modules/css-loader/dist/cjs.js?!./node_modules/@magento/venia-ui/lib/components/CommunicationsPage/communicationsPage.css\",\"exports\",\"i\"],\"mappings\":\"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\"}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[157],{\"./node_modules/@magento/peregrine/lib/talons/CommunicationsPage/communicationsPage.gql.js\":\n/*!*************************************************************************************************!*\\\n  !*** ./node_modules/@magento/peregrine/lib/talons/CommunicationsPage/communicationsPage.gql.js ***!\n  \\*************************************************************************************************/\n/*! exports provided: SET_NEWSLETTER_SUBSCRIPTION, GET_CUSTOMER_SUBSCRIPTION, default */function(e,n,t){\"use strict\";t.r(n),t.d(n,\"SET_NEWSLETTER_SUBSCRIPTION\",(function(){return i})),t.d(n,\"GET_CUSTOMER_SUBSCRIPTION\",(function(){return s}));var o=t(/*! @apollo/client */\"./node_modules/@apollo/client/index.js\");const i=o.gql`\n    mutation SetNewsletterSubscription($isSubscribed: Boolean!) {\n        updateCustomer(input: { is_subscribed: $isSubscribed }) {\n            customer {\n                id\n                is_subscribed\n            }\n        }\n    }\n`,s=o.gql`\n    query GetCustomerSubscription {\n        customer {\n            id\n            is_subscribed\n        }\n    }\n`;n.default={getCustomerSubscriptionQuery:s,setNewsletterSubscriptionMutation:i}},\"./node_modules/@magento/peregrine/lib/talons/CommunicationsPage/useCommunicationsPage.js\":\n/*!************************************************************************************************!*\\\n  !*** ./node_modules/@magento/peregrine/lib/talons/CommunicationsPage/useCommunicationsPage.js ***!\n  \\************************************************************************************************/\n/*! exports provided: useCommunicationsPage */function(e,n,t){\"use strict\";t.r(n),t.d(n,\"useCommunicationsPage\",(function(){return c}));var o=t(/*! react */\"./node_modules/react/index.js\"),i=t(/*! @apollo/client */\"./node_modules/@apollo/client/index.js\"),s=t(/*! ../../util/shallowMerge */\"./node_modules/@magento/peregrine/lib/util/shallowMerge.js\"),a=t(/*! ../../context/user */\"./node_modules/@magento/peregrine/lib/context/user.js\"),u=t(/*! ./communicationsPage.gql */\"./node_modules/@magento/peregrine/lib/talons/CommunicationsPage/communicationsPage.gql.js\"),m=$RefreshSig$();const c=e=>{m();const{afterSubmit:n}=e,t=Object(s.default)(u.default,e.operations),{getCustomerSubscriptionQuery:c,setNewsletterSubscriptionMutation:r}=t,[{isSignedIn:l}]=Object(a.useUserContext)(),{data:d,error:g}=Object(i.useQuery)(c,{skip:!l}),b=Object(o.useMemo)(()=>{if(d)return{isSubscribed:d.customer.is_subscribed}},[d]),[f,{error:p,loading:j}]=Object(i.useMutation)(r);return{formErrors:[p,g],initialValues:b,handleSubmit:Object(o.useCallback)(async e=>{try{await f({variables:e})}catch{return}n&&n()},[f,n]),isDisabled:j,isSignedIn:l}};m(c,\"+JHOr6s0Xo1LTj7wzcgpvmXnKtI=\",!1,(function(){return[a.useUserContext,i.useQuery,i.useMutation]}))},\"./node_modules/@magento/venia-ui/lib/components/CommunicationsPage/communicationsPage.css\":\n/*!*************************************************************************************************!*\\\n  !*** ./node_modules/@magento/venia-ui/lib/components/CommunicationsPage/communicationsPage.css ***!\n  \\*************************************************************************************************/\n/*! exports provided: default */function(e,n,t){\"use strict\";t.r(n);var o=t(/*! ../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js */\"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\"),i=t.n(o),s=t(/*! !../../../../../css-loader/dist/cjs.js??ref--6-oneOf-0-1!./communicationsPage.css */\"./node_modules/css-loader/dist/cjs.js?!./node_modules/@magento/venia-ui/lib/components/CommunicationsPage/communicationsPage.css\"),a=t.n(s),u={injectType:\"styleTag\",insert:\"head\",singleton:!1};i()(a.a,u);n.default=a.a.locals||{}},\"./node_modules/@magento/venia-ui/lib/components/CommunicationsPage/communicationsPage.js\":\n/*!************************************************************************************************!*\\\n  !*** ./node_modules/@magento/venia-ui/lib/components/CommunicationsPage/communicationsPage.js ***!\n  \\************************************************************************************************/\n/*! exports provided: default */function(e,n,t){\"use strict\";t.r(n);var o=t(/*! react */\"./node_modules/react/index.js\"),i=t.n(o),s=t(/*! react-intl */\"./node_modules/react-intl/lib/index.js\"),a=t(/*! informed */\"./node_modules/informed/dist/esm/index.js\"),u=t(/*! react-router-dom */\"./node_modules/react-router-dom/esm/react-router-dom.js\"),m=t(/*! @magento/peregrine */\"./node_modules/@magento/peregrine/lib/index.js\"),c=t(/*! @magento/peregrine/lib/talons/CommunicationsPage/useCommunicationsPage */\"./node_modules/@magento/peregrine/lib/talons/CommunicationsPage/useCommunicationsPage.js\"),r=t(/*! ../../classify */\"./node_modules/@magento/venia-ui/lib/classify.js\"),l=t(/*! ../Button */\"./node_modules/@magento/venia-ui/lib/components/Button/index.js\"),d=t(/*! ../Checkbox */\"./src/components/Checkbox/index.js\"),g=t(/*! ../Field */\"./node_modules/@magento/venia-ui/lib/components/Field/index.js\"),b=t(/*! ../FormError */\"./node_modules/@magento/venia-ui/lib/components/FormError/index.js\"),f=t(/*! ../Head */\"./node_modules/@magento/venia-ui/lib/components/Head/index.js\"),p=t(/*! ../LoadingIndicator */\"./node_modules/@magento/venia-ui/lib/components/LoadingIndicator/index.js\"),j=t(/*! ./communicationsPage.css */\"./node_modules/@magento/venia-ui/lib/components/CommunicationsPage/communicationsPage.css\"),P=$RefreshSig$();const _=e=>{P();const{formatMessage:n}=Object(s.useIntl)(),t=Object(r.useStyle)(j.default,e.classes),[,{addToast:_}]=Object(m.useToasts)(),C=Object(o.useCallback)(()=>{_({type:\"info\",message:n({id:\"communicationsPage.preferencesText\",defaultMessage:\"Your preferences have been updated.\"}),timeout:5e3})},[_,n]),S=Object(c.useCommunicationsPage)({afterSubmit:C}),{formErrors:x,handleSubmit:v,initialValues:h,isDisabled:y,isSignedIn:E}=S;if(!E)return i.a.createElement(u.Redirect,{to:\"/\"});if(!h)return p.fullPageLoadingIndicator;const T=n({id:\"communicationsPage.title\",defaultMessage:\"Communications\"});return i.a.createElement(\"div\",{className:t.root},i.a.createElement(f.StoreTitle,null,T),i.a.createElement(\"h1\",{className:t.title},i.a.createElement(s.FormattedMessage,{id:\"communicationsPage.communicationsText\",defaultMessage:\"Communications\"})),i.a.createElement(\"p\",null,i.a.createElement(s.FormattedMessage,{id:\"communicationsPage.optInText\",defaultMessage:\"We'd like to stay in touch. Please check the boxes next to the communications you'd like to receive.\"})),i.a.createElement(b.default,{errors:x}),i.a.createElement(a.Form,{className:t.form,onSubmit:v,initialValues:h},i.a.createElement(g.default,{id:\"isSubscribed\",label:n({id:\"communicationsPage.eNewsletterText\",defaultMessage:\"Venia E-Newsletter\"})},i.a.createElement(d.default,{field:\"isSubscribed\",label:n({id:\"communicationsPage.subscribeText\",defaultMessage:\"Stay on the cutting edge of fashion; subscribe to the monthly Venia Newsletter.\"})})),i.a.createElement(\"div\",{className:t.buttonsContainer},i.a.createElement(l.default,{disabled:y,type:\"submit\",priority:\"high\"},n(y?{id:\"communicationsPage.savingText\",defaultMessage:\"Saving\"}:{id:\"communicationsPage.changesText\",defaultMessage:\"Save Changes\"})))))};var C;P(_,\"Gofh2QONrPESnxPPJpCG3Q0E1qA=\",!1,(function(){return[s.useIntl,r.useStyle,m.useToasts,c.useCommunicationsPage]})),C=_,n.default=_,$RefreshReg$(C,\"CommunicationsPage\")},\"./node_modules/@magento/venia-ui/lib/components/CommunicationsPage/index.js\":\n/*!***********************************************************************************!*\\\n  !*** ./node_modules/@magento/venia-ui/lib/components/CommunicationsPage/index.js ***!\n  \\***********************************************************************************/\n/*! exports provided: default */function(e,n,t){\"use strict\";t.r(n);var o=t(/*! ./communicationsPage */\"./node_modules/@magento/venia-ui/lib/components/CommunicationsPage/communicationsPage.js\");t.d(n,\"default\",(function(){return o.default}))},\"./node_modules/css-loader/dist/cjs.js?!./node_modules/@magento/venia-ui/lib/components/CommunicationsPage/communicationsPage.css\":\n/*!*********************************************************************************************************************************************************!*\\\n  !*** ./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!./node_modules/@magento/venia-ui/lib/components/CommunicationsPage/communicationsPage.css ***!\n  \\*********************************************************************************************************************************************************/\n/*! no static exports found */function(e,n,t){(n=e.exports=t(/*! ../../../../../css-loader/dist/runtime/api.js */\"./node_modules/css-loader/dist/runtime/api.js\")(!1)).push([e.i,\".communicationsPage-root--lW {\\n    display: grid;\\n    padding: 2.5rem 3rem;\\n    row-gap: 2rem;\\n}\\n\\n.communicationsPage-title-1fw {\\n    justify-self: center;\\n    font-family: var(--venia-global-fontFamily-serif);\\n    font-weight: var(--venia-global-fontWeight-bold);\\n}\\n\\n.communicationsPage-form-1fu {\\n    display: grid;\\n    row-gap: 2rem;\\n}\\n\\n.communicationsPage-buttonsContainer-4ij {\\n    display: flex;\\n    justify-content: flex-start;\\n}\\n\\n@media (max-width: 960px) {\\n    .communicationsPage-root--lW {\\n        padding-left: 1.5rem;\\n        padding-right: 1.5rem;\\n    }\\n\\n    .communicationsPage-buttonsContainer-4ij {\\n        justify-content: center;\\n    }\\n}\\n\",\"\"]),n.locals={root:\"communicationsPage-root--lW\",title:\"communicationsPage-title-1fw\",form:\"communicationsPage-form-1fu\",buttonsContainer:\"communicationsPage-buttonsContainer-4ij\"}}}]);","extractedComments":[]}