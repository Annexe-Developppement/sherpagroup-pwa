{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{1090:function(e,t,n){\"use strict\";n.r(t);var a,r=n(0),i=n.n(r),c=n(1),l=n(343),s=n(10),o=n.n(s),u=n(17),g=n(62),m=n(170),d=n(114),C=[\"/checkout\"],p=n(85),b=n(14),f=n.n(b),h=n(179),k=n.n(h),O={injectType:\"singletonStyleTag\",insert:\"head\",singleton:!0},y=(f()(k.a,O),k.a.locals||{}),I=n(80),j=n.n(I),T=n(395),E=Object(u.gql)(a||(a=j()([\"\\n    query getItemCount($cartId: String!) {\\n        cart(cart_id: $cartId) {\\n            id\\n            ...CartTriggerFragment\\n        }\\n    }\\n    \",\"\\n\"])),T.a),q=n(1035),v=n(298),w=i.a.createElement(v.a,{src:q.a,size:20}),F=i.a.lazy((function(){return Promise.all([n.e(1),n.e(2),n.e(4),n.e(41),n.e(90)]).then(n.bind(null,1076))})),M=function(e){var t=function(e){var t=e.queries.getItemCountQuery,n=Object(m.b)(),a=o()(n,1)[0].cartId,i=Object(d.a)(),c=i.elementRef,l=i.expanded,s=i.setExpanded,p=Object(g.g)(),b=Object(u.useQuery)(t,{fetchPolicy:\"cache-and-network\",nextFetchPolicy:\"cache-first\",variables:{cartId:a},skip:!a}).data,f=b?b.cart.total_quantity:0,h=C.includes(p.location.pathname),k=Object(r.useCallback)((function(){s(!0)}),[s]);return{handleLinkClick:Object(r.useCallback)((function(){p.push(\"/cart\")}),[p]),handleTriggerClick:k,itemCount:f,miniCartIsOpen:l,miniCartRef:c,hideCartTrigger:h,setMiniCartIsOpen:s}}({queries:{getItemCountQuery:E}}),n=t.handleLinkClick,a=t.handleTriggerClick,c=t.itemCount,s=t.miniCartRef,b=t.miniCartIsOpen,f=t.hideCartTrigger,h=t.setMiniCartIsOpen,k=Object(p.a)(y,e.classes),O=(0,Object(l.a)().formatMessage)({id:\"cartTrigger.ariaLabel\",defaultMessage:\"Toggle mini cart. You have {count} items in your cart.\"},{count:c}),I=c>99?\"99+\":c,j=b?k.triggerContainer_open:k.triggerContainer,T=c?i.a.createElement(\"span\",{className:k.counter},I):null;return f?null:i.a.createElement(r.Fragment,null,i.a.createElement(\"div\",{className:j},i.a.createElement(\"button\",{\"aria-label\":O,className:k.trigger,onClick:a},w,T)),i.a.createElement(\"button\",{\"aria-label\":O,className:k.link,onClick:n},w,T),i.a.createElement(r.Suspense,{fallback:null},i.a.createElement(F,{isOpen:b,setIsOpen:h,ref:s})))};t.default=M;M.propTypes={classes:Object(c.shape)({counter:c.string,link:c.string,openIndicator:c.string,root:c.string,trigger:c.string,triggerContainer:c.string})}},395:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var a,r=n(80),i=n.n(r),c=n(17),l=Object(c.gql)(a||(a=i()([\"\\n    fragment CartTriggerFragment on Cart {\\n        id\\n        total_quantity\\n    }\\n\"])))}}]);","extractedComments":[]}