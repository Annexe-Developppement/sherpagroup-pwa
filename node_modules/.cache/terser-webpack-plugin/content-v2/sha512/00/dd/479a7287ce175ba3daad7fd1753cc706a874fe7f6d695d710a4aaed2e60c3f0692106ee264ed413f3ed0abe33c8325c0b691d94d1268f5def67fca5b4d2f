{"map":"{\"version\":3,\"sources\":[\"112.d899d08fce309bdde40a.js\"],\"names\":[\"window\",\"push\",\"./src/components/CheckoutPage/ItemsReview/itemsReviewFragments.gql.js\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"d\",\"ItemsReviewFragment\",\"./src/components/CheckoutPage/OrderConfirmationPage/orderConfirmationPageFragments.gql.js\",\"OrderConfirmationPageFragment\",\"_apollo_client__WEBPACK_IMPORTED_MODULE_0__\",\"_ItemsReview_itemsReviewFragments_gql__WEBPACK_IMPORTED_MODULE_1__\",\"./src/components/CheckoutPage/checkoutPage.gql.js\",\"CREATE_CART\",\"PLACE_ORDER\",\"GET_ORDER_DETAILS\",\"GET_CHECKOUT_DETAILS\",\"GET_CUSTOMER\",\"_checkoutPageFragments_gql__WEBPACK_IMPORTED_MODULE_1__\",\"_OrderConfirmationPage_orderConfirmationPageFragments_gql__WEBPACK_IMPORTED_MODULE_2__\",\"mutations\",\"createCartMutation\",\"placeOrderMutation\",\"queries\",\"getCheckoutDetailsQuery\",\"getCustomerQuery\",\"getOrderDetailsQuery\",\"./src/peregrine/lib/talons/CheckoutPage/usePaypalPayment.js\",\"CHECKOUT_STEP\",\"usePaypal\",\"useSetPaymentMethod\",\"usePaypalCheckout\",\"react__WEBPACK_IMPORTED_MODULE_0__\",\"_apollo_client__WEBPACK_IMPORTED_MODULE_1__\",\"_magento_peregrine_lib_Apollo_clearCartDataFromCache__WEBPACK_IMPORTED_MODULE_2__\",\"_magento_peregrine_lib_context_cart__WEBPACK_IMPORTED_MODULE_3__\",\"_queries_createPaypalExpressToken_graphql__WEBPACK_IMPORTED_MODULE_4__\",\"_queries_createPaypalExpressToken_graphql__WEBPACK_IMPORTED_MODULE_4___default\",\"n\",\"_s\",\"$RefreshSig$\",\"_s2\",\"_s3\",\"SHIPPING_ADDRESS\",\"SHIPPING_METHOD\",\"PAYMENT\",\"REVIEW\",\"hostOrigin\",\"location\",\"origin\",\"cartId\",\"Object\",\"createToken\",\"data\",\"a\",\"handleCreateToken\",\"async\",\"variables\",\"cart_id\",\"return_url\",\"cancel_url\",\"err\",\"console\",\"log\",\"tokenResponse\",\"createPaypalExpressToken\",\"props\",\"mutation\",\"setPayMethod\",\"inProgress\",\"setInProgress\",\"handleSetPaymentMethod\",\"payment_method\",\"payer_id\",\"token\",\"paymentMethodResponse\",\"setPaymentMethodOnCart\",\"cart\",\"selected_payment_method\",\"code\",\"createCart\",\"removeCart\",\"apolloClient\",\"fetchCartId\",\"placeOrder\",\"placeOrderData\",\"called\",\"placeOrderCalled\",\"orderDetailsData\",\"loading\",\"orderDetailsLoading\",\"fetchPolicy\",\"error\",\"setReviewOrderButtonClicked\",\"setCheckoutStep\",\"placeOrderAndCleanup\",\"handlePlaceOrder\",\"orderNumber\",\"order\",\"order_number\",\"./src/queries/createPaypalExpressToken.graphql\",\"exports\",\"doc\",\"kind\",\"definitions\",\"operation\",\"name\",\"value\",\"variableDefinitions\",\"variable\",\"type\",\"directives\",\"selectionSet\",\"selections\",\"arguments\",\"fields\",\"block\",\"loc\",\"start\",\"end\",\"source\",\"body\",\"locationOffset\",\"line\",\"column\",\"definitionRefs\",\"findOperation\",\"i\",\"length\",\"element\",\"forEach\",\"def\",\"refs\",\"Set\",\"collectFragmentReferences\",\"node\",\"add\",\"selection\",\"operationName\",\"newDoc\",\"hasOwnProperty\",\"opRefs\",\"allRefs\",\"newRefs\",\"refName\",\"size\",\"prevRefs\",\"has\",\"childRef\",\"op\",\"oneQuery\"],\"mappings\":\"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\"}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{\"./src/components/CheckoutPage/ItemsReview/itemsReviewFragments.gql.js\":\n/*!*****************************************************************************!*\\\n  !*** ./src/components/CheckoutPage/ItemsReview/itemsReviewFragments.gql.js ***!\n  \\*****************************************************************************/\n/*! exports provided: ItemsReviewFragment */function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ItemsReviewFragment\",(function(){return a}));const a=n(/*! @apollo/client */\"./node_modules/@apollo/client/index.js\").gql`\n    fragment ItemsReviewFragment on Cart {\n        id\n        total_quantity\n        items {\n            id\n            product {\n                id\n                name\n                thumbnail {\n                    url\n                }\n            }\n            quantity\n            ... on SimpleCartItem {\n                customizable_options {\n                    label\n                    values {\n                        label\n                        value\n                    }\n                }\n            }\n            ... on ConfigurableCartItem {\n                configurable_options {\n                    id\n                    option_label\n                    value_id\n                    value_label\n                }\n            }\n            ... on BundleCartItem {\n                bundle_options {\n                    uid\n                    label\n                    type\n                    values {\n                        id\n                        label\n                        price\n                        quantity\n                    }\n                }\n            }\n        }\n    }\n`},\"./src/components/CheckoutPage/OrderConfirmationPage/orderConfirmationPageFragments.gql.js\":\n/*!*************************************************************************************************!*\\\n  !*** ./src/components/CheckoutPage/OrderConfirmationPage/orderConfirmationPageFragments.gql.js ***!\n  \\*************************************************************************************************/\n/*! exports provided: OrderConfirmationPageFragment */function(e,t,n){\"use strict\";n.r(t),n.d(t,\"OrderConfirmationPageFragment\",(function(){return i}));var a=n(/*! @apollo/client */\"./node_modules/@apollo/client/index.js\"),r=n(/*! ../ItemsReview/itemsReviewFragments.gql */\"./src/components/CheckoutPage/ItemsReview/itemsReviewFragments.gql.js\");const i=a.gql`\n    fragment OrderConfirmationPageFragment on Cart {\n        id\n        email\n        total_quantity\n        shipping_addresses {\n            firstname\n            lastname\n            street\n            city\n            region {\n                label\n            }\n            postcode\n            country {\n                label\n            }\n\n            selected_shipping_method {\n                carrier_title\n                method_title\n            }\n        }\n        ...ItemsReviewFragment\n    }\n    ${r.ItemsReviewFragment}\n`},\"./src/components/CheckoutPage/checkoutPage.gql.js\":\n/*!*********************************************************!*\\\n  !*** ./src/components/CheckoutPage/checkoutPage.gql.js ***!\n  \\*********************************************************/\n/*! exports provided: CREATE_CART, PLACE_ORDER, GET_ORDER_DETAILS, GET_CHECKOUT_DETAILS, GET_CUSTOMER, default */function(e,t,n){\"use strict\";n.r(t),n.d(t,\"CREATE_CART\",(function(){return o})),n.d(t,\"PLACE_ORDER\",(function(){return l})),n.d(t,\"GET_ORDER_DETAILS\",(function(){return c})),n.d(t,\"GET_CHECKOUT_DETAILS\",(function(){return u})),n.d(t,\"GET_CUSTOMER\",(function(){return d}));var a=n(/*! @apollo/client */\"./node_modules/@apollo/client/index.js\"),r=n(/*! ./checkoutPageFragments.gql */\"./src/components/CheckoutPage/checkoutPageFragments.gql.js\"),i=n(/*! ./OrderConfirmationPage/orderConfirmationPageFragments.gql */\"./src/components/CheckoutPage/OrderConfirmationPage/orderConfirmationPageFragments.gql.js\");const o=a.gql`\n    # This mutation will return a masked cart id. If a bearer token is provided for\n    # a logged in user it will return the cart id for that user.\n    mutation createCart {\n        cartId: createEmptyCart\n    }\n`,l=a.gql`\n    mutation placeOrder($cartId: String!) {\n        placeOrder(input: { cart_id: $cartId }) @connection(key: \"placeOrder\") {\n            order {\n                order_number\n            }\n        }\n    }\n`,c=a.gql`\n    query getOrderDetails($cartId: String!) {\n        cart(cart_id: $cartId) {\n            id\n            ...OrderConfirmationPageFragment\n        }\n    }\n    ${i.OrderConfirmationPageFragment}\n`,u=a.gql`\n    query getCheckoutDetails($cartId: String!) {\n        cart(cart_id: $cartId) {\n            id\n            ...CheckoutPageFragment\n        }\n    }\n    ${r.CheckoutPageFragment}\n`,d=a.gql`\n    query GetCustomerForCheckout {\n        customer {\n            id\n            default_shipping\n            firstname\n        }\n    }\n`;t.default={mutations:{createCartMutation:o,placeOrderMutation:l},queries:{getCheckoutDetailsQuery:u,getCustomerQuery:d,getOrderDetailsQuery:c}}},\"./src/peregrine/lib/talons/CheckoutPage/usePaypalPayment.js\":\n/*!*******************************************************************!*\\\n  !*** ./src/peregrine/lib/talons/CheckoutPage/usePaypalPayment.js ***!\n  \\*******************************************************************/\n/*! exports provided: CHECKOUT_STEP, usePaypal, useSetPaymentMethod, usePaypalCheckout */function(e,t,n){\"use strict\";n.r(t),n.d(t,\"CHECKOUT_STEP\",(function(){return m})),n.d(t,\"usePaypal\",(function(){return p})),n.d(t,\"useSetPaymentMethod\",(function(){return k})),n.d(t,\"usePaypalCheckout\",(function(){return g}));var a=n(/*! react */\"./node_modules/react/index.js\"),r=n(/*! @apollo/client */\"./node_modules/@apollo/client/index.js\"),i=n(/*! @magento/peregrine/lib/Apollo/clearCartDataFromCache */\"./node_modules/@magento/peregrine/lib/Apollo/clearCartDataFromCache.js\"),o=n(/*! @magento/peregrine/lib/context/cart */\"./node_modules/@magento/peregrine/lib/context/cart.js\"),l=n(/*! ../../../../queries/createPaypalExpressToken.graphql */\"./src/queries/createPaypalExpressToken.graphql\"),c=n.n(l),u=$RefreshSig$(),d=$RefreshSig$(),s=$RefreshSig$();const m={SHIPPING_ADDRESS:1,SHIPPING_METHOD:2,PAYMENT:3,REVIEW:4},p=()=>{u();const e=window.location.origin,[{cartId:t}]=Object(o.useCartContext)(),[n,{data:i}]=Object(r.useMutation)(c.a);return{handleCreateToken:Object(a.useCallback)(async()=>{try{await n({variables:{cart_id:t,return_url:e+\"/paypal-review\",cancel_url:e+\"/checkout\"}})}catch(e){console.log(e)}},[t,n,e]),tokenResponse:i&&i.createPaypalExpressToken}};u(p,\"tfkSjHOCzl+DtqRPoyFYIR8f7xo=\",!1,(function(){return[o.useCartContext,r.useMutation]}));const k=e=>{d();const{mutation:t}=e,[{cartId:n}]=Object(o.useCartContext)(),[i,{data:l}]=Object(r.useMutation)(t),[c,u]=Object(a.useState)(!1);return{handleSetPaymentMethod:Object(a.useCallback)(async({payment_method:e,payer_id:t,token:a})=>{u(!0),await i({variables:{cart_id:n,payment_method:e,payer_id:t,token:a}}),u(!1)},[n,i]),inProgress:c,paymentMethodResponse:l&&l.setPaymentMethodOnCart&&l.setPaymentMethodOnCart.cart&&l.setPaymentMethodOnCart.cart.selected_payment_method&&l.setPaymentMethodOnCart.cart.selected_payment_method.code}};d(k,\"U8QOawmUh3VgW0z23ZO57CR83s8=\",!1,(function(){return[o.useCartContext,r.useMutation]}));const g=e=>{s();const{mutations:{createCartMutation:t,placeOrderMutation:n},queries:{getOrderDetailsQuery:l}}=e,[{cartId:c},{createCart:u,removeCart:d}]=Object(o.useCartContext)(),p=Object(r.useApolloClient)(),[k]=Object(r.useMutation)(t),[g,{data:f,called:v}]=Object(r.useMutation)(n),{data:C,loading:y}=Object(r.useQuery)(l,{variables:{cartId:c},fetchPolicy:\"no-cache\"});return Object(a.useEffect)(()=>{C&&!v&&async function(){try{await g({variables:{cartId:c}}),await d(),await Object(i.clearCartDataFromCache)(p),await u({fetchCartId:k})}catch(e){console.error(\"An error occurred during when placing the order\",e),setReviewOrderButtonClicked(!1),setCheckoutStep(m.PAYMENT)}}()},[p,c,u,k,C,g,v,d]),{handlePlaceOrder:()=>{},orderDetailsData:C,orderDetailsLoading:y,orderNumber:f&&f.placeOrder.order.order_number||null}};s(g,\"/FM3xIOw+O2IEK9/QJR+X2M6pR8=\",!1,(function(){return[o.useCartContext,r.useApolloClient,r.useMutation,r.useMutation,r.useQuery]}))},\"./src/queries/createPaypalExpressToken.graphql\":\n/*!******************************************************!*\\\n  !*** ./src/queries/createPaypalExpressToken.graphql ***!\n  \\******************************************************/\n/*! no static exports found */function(e,t){var n={kind:\"Document\",definitions:[{kind:\"OperationDefinition\",operation:\"mutation\",name:{kind:\"Name\",value:\"createPaypalExpressToken\"},variableDefinitions:[{kind:\"VariableDefinition\",variable:{kind:\"Variable\",name:{kind:\"Name\",value:\"cart_id\"}},type:{kind:\"NonNullType\",type:{kind:\"NamedType\",name:{kind:\"Name\",value:\"String\"}}},directives:[]},{kind:\"VariableDefinition\",variable:{kind:\"Variable\",name:{kind:\"Name\",value:\"return_url\"}},type:{kind:\"NonNullType\",type:{kind:\"NamedType\",name:{kind:\"Name\",value:\"String\"}}},directives:[]},{kind:\"VariableDefinition\",variable:{kind:\"Variable\",name:{kind:\"Name\",value:\"cancel_url\"}},type:{kind:\"NonNullType\",type:{kind:\"NamedType\",name:{kind:\"Name\",value:\"String\"}}},directives:[]}],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"createPaypalExpressToken\"},arguments:[{kind:\"Argument\",name:{kind:\"Name\",value:\"input\"},value:{kind:\"ObjectValue\",fields:[{kind:\"ObjectField\",name:{kind:\"Name\",value:\"cart_id\"},value:{kind:\"Variable\",name:{kind:\"Name\",value:\"cart_id\"}}},{kind:\"ObjectField\",name:{kind:\"Name\",value:\"code\"},value:{kind:\"StringValue\",value:\"paypal_express\",block:!1}},{kind:\"ObjectField\",name:{kind:\"Name\",value:\"express_button\"},value:{kind:\"BooleanValue\",value:!0}},{kind:\"ObjectField\",name:{kind:\"Name\",value:\"urls\"},value:{kind:\"ObjectValue\",fields:[{kind:\"ObjectField\",name:{kind:\"Name\",value:\"return_url\"},value:{kind:\"Variable\",name:{kind:\"Name\",value:\"return_url\"}}},{kind:\"ObjectField\",name:{kind:\"Name\",value:\"cancel_url\"},value:{kind:\"Variable\",name:{kind:\"Name\",value:\"cancel_url\"}}}]}}]}}],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"token\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"paypal_urls\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"start\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"edit\"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:434}};n.loc.source={body:'mutation createPaypalExpressToken(\\n    $cart_id: String!\\n    $return_url: String!\\n    $cancel_url: String!\\n) {\\n    createPaypalExpressToken(\\n        input: {\\n            cart_id: $cart_id\\n            code: \"paypal_express\"\\n            express_button: true\\n            urls: { return_url: $return_url, cancel_url: $cancel_url }\\n        }\\n    ) {\\n        token\\n        paypal_urls {\\n            start\\n            edit\\n        }\\n    }\\n}\\n',name:\"GraphQL request\",locationOffset:{line:1,column:1}};var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if(\"FragmentSpread\"===t.kind)n.add(t.name.value);else if(\"VariableDefinition\"===t.kind){var a=t.type;\"NamedType\"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.createPaypalExpressToken=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty(\"loc\")&&(n.loc=e.loc);var i=a[t]||new Set,o=new Set,l=new Set;for(i.forEach((function(e){l.add(e)}));l.size>0;){var c=l;l=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){l.add(e)})))}))}return o.forEach((function(t){var a=r(e,t);a&&n.definitions.push(a)})),n}(n,\"createPaypalExpressToken\")}}]);","extractedComments":[]}